<!DOCTYPE html> 
<head>
	<meta http-equiv="x-ua-compatible" content="Edge" />
    <title></title>
    <link rel='stylesheet' type='text/css' href='http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css'>
    <script type='text/javascript' src='http://code.jquery.com/jquery-1.9.1.js'></script>
    <script type='text/javascript' src='http://code.jquery.com/ui/1.10.2/jquery-ui.js'></script>
    <script type='text/javascript' src='../../ui/jquery.ui_add.core.js'></script>
    <script type='text/javascript' src='../../ui/jquery.ui_add.autosizepanel.js'></script>
    <script type='text/javascript'>
		var panel=null;
		function addDiv(){
			if(!panel)return;
			$('<div style=\'height:100px;background-color:rgb('+[parseInt(Math.random()*255),parseInt(Math.random()*255),parseInt(Math.random()*255)].join(',')+');border:1px solid #000000;text-align:center;\'><div style=\'float:left\'><button onclick=\'delDiv(this.parentNode.parentNode)\'>Remove this div</button></div>Child div</div>').appendTo(panel); //.trigger('resize');
		}
		function delDiv(div){
			$(div).remove();
		}
		$(document).ready(function(){
			$('#mainpanel').resizable();
			panel=$('.autosizepanel');
			panel=panel.autosizepanel().autosizepanel('widget');
		});
    </script>
    
</head>
<body style='margin:0px;padding:0px;'>
	<button onclick='addDiv()'>Add div to auto-size panel</button>
	<div id='mainpanel' style='margin:0px;padding:0px;border:0px;height:600px;background-color:#c0c0c0;overflow:hidden;'>
		<div style='height:100px;background-color:white;border:1px solid #000000;'>Simple div</div>
		<div style='height:100px;background-color:#999999;border:1px solid #000000;'>Simple div</div>
		<div class='autosizepanel' style='background-color:#444444;border:1px solid #000000;min-height:100px;height:150px;'>
		</div>
		<div style='height:100px;background-color:#777777;border:1px solid #000000;'>Simple div</div>
	</div>
</body>
</html>
